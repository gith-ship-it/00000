var FBAdPlugin=function(e){"use strict";const t={VERSION:"6.4",FB_API_VERSION:"v19.0",VALID_PATHS:["/adsmanager/manage/campaigns","/ads/creativehub/home/","/adsmanager/manage/all","/adsmanager/manage/ads","/adsmanager/manage/adsets"],GRAPHQL_DOC_IDS:{AD_ACCOUNT_APPEAL:"5197966936890203",AD_ACCOUNT_DELETE:"4787981637941330",AD_ACCOUNT_REMOVE_ACCESS:"5123456789012345",PAGE_APPEAL:"5197966936890203",PAGE_DELETE:"4899485650107392",PAGE_UNHIDE:"4920939114687785",BM_CREATE:"4787981637941333",BM_ADD_USER:"4787981637941334",BM_ADD_AD_ACCOUNT:"4787981637941335",BM_REQUEST_AD_ACCOUNT:"4787981637941336",ADD_CREDIT_CARD:"4896364773778784"},COOKIES:{USER_ID:"i_user"},CURRENCY_SYMBOLS:{USD:"$",EUR:"€",CRC:"₡",GBP:"£",ILS:"₪",INR:"₹",JPY:"¥",KRW:"₩",NGN:"₦",PHP:"₱",PLN:"zł",PYG:"₲",THB:"฿",UAH:"₴",VND:"₫"}};function n(e){const t=`; ${document.cookie}`.split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()}function o(e){return new URLSearchParams(window.location.search).get(e)}async function c(e){if(navigator.clipboard&&navigator.clipboard.writeText)try{return void await navigator.clipboard.writeText(e)}catch(e){console.warn("Clipboard API failed, falling back to execCommand:",e)}try{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",t.style.top="0",t.style.left="0",document.body.appendChild(t),t.focus(),t.select();const n=document.execCommand("copy");if(document.body.removeChild(t),!n)throw new Error("execCommand copy failed")}catch(e){throw console.error("Failed to copy text to clipboard:",e),new Error("Could not copy to clipboard")}}function a(e,t=4){if(!e||e.length<=t)return e;return e.substring(0,t)+"*".repeat(e.length-t)}function r(){return void 0!==n(t.COOKIES.USER_ID)}function s(){const e=r();console.log("Is page auth?",e),console.log("Looking for access token...");const t=document.getElementsByTagName("script");let n="",c="";const a=o("act"),s=/selected_account_id:"(.*?)"/i,d=/"(EA[A-Za-z0-9]{20,})"/;for(let e=0;e<t.length;e++){const o=t[e].innerHTML;if(!n){const e=d.exec(o);e&&e[1]&&(n=e[1],console.log("Access token found"))}if(!a&&!c){const e=s.exec(o);e&&e[1]&&(c=e[1],console.log("Account ID found:",c))}}return a&&(c=a.replace("act=","")),{token:n,accountId:c,isPageAuth:e}}const d=`https://graph.facebook.com/${t.FB_API_VERSION}`;async function i(e,t={}){const{method:n="GET",params:o={},accessToken:c=null}=t;if(!c)throw new Error("Access token is required. Please pass it explicitly.");const a=c;let r,s={method:n};if(["POST","PUT","PATCH"].includes(n)){const t=new URLSearchParams({access_token:a});r=`${d}/${e}?${t}`;const n=new URLSearchParams(o);s.headers={"Content-Type":"application/x-www-form-urlencoded"},s.body=n}else{const t=new URLSearchParams({...o,access_token:a});r=`${d}/${e}?${t}`}const i=await fetch(r,s);if(!i.ok){const e=await i.json();throw new Error(e.error?.message||"API request failed")}return await i.json()}async function l(e,t,n,o=null,c={}){if(!o)throw new Error("Access token is required. Please pass it explicitly.");const a=o,r=new URLSearchParams;r.append("access_token",a);for(const[e,t]of Object.entries(c))r.append(e,t);r.append("doc_id",e),r.append("variables",JSON.stringify(t)),r.append("fb_api_req_friendly_name",n),r.append("fb_api_caller_class","RelayModern");const s=await fetch("https://www.facebook.com/api/graphql/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:r});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const d=await s.json();if(d.errors&&d.errors.length>0)throw new Error(d.errors[0].message);return d}async function u(e,n){try{const o={input:{client_mutation_id:"1",actor_id:e,ad_account_id:e,ids_issue_ent_id:"1",appeal_comment:"I'm not sure which policy was violated.",callsite:"ACCOUNT_QUALITY"}};return{success:!0,message:"Ad account appeal submitted successfully",data:await l(t.GRAPHQL_DOC_IDS.AD_ACCOUNT_APPEAL,o,"useAdAccountALRAppealMutation",n)}}catch(e){return console.error("Error appealing ad account:",e),{success:!1,message:e.message,error:e}}}async function p(e,n){try{const o={input:{ad_account_id:e,actor_id:e,client_mutation_id:"1"}};return{success:!0,message:"Ad account deleted successfully",data:await l(t.GRAPHQL_DOC_IDS.AD_ACCOUNT_DELETE,o,"AdAccountDeleteMutation",n)}}catch(e){return console.error("Error deleting ad account:",e),{success:!1,message:e.message,error:e}}}async function m(e,n,o){try{const c={input:{account_id:e,user_id:n,client_mutation_id:"1"}};return{success:!0,message:"Ad account access removed successfully",data:await l(t.GRAPHQL_DOC_IDS.AD_ACCOUNT_REMOVE_ACCESS,c,"RemoveAdAccountAccessMutation",o)}}catch(e){return console.error("Error removing ad account access:",e),{success:!1,message:e.message,error:e}}}function g(e,t,n={}){const{width:o="600px",height:c="auto",className:a="fb-plugin-popup"}=n;w();const r=document.createElement("div");r.id="fb-plugin-popup",r.className=a,r.style.cssText=`\n    position: fixed;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: ${o};\n    max-height: 80vh;\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 4px 20px rgba(0,0,0,0.3);\n    z-index: 10000;\n    overflow: auto;\n  `;const s=document.createElement("div");s.style.padding="20px";const d=document.createElement("div");d.style.cssText="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;";const i=document.createElement("h3");i.style.margin="0",i.textContent=e;const l=document.createElement("button");l.setAttribute("data-action","close-popup"),l.style.cssText="background: none; border: none; font-size: 24px; cursor: pointer;",l.textContent="×",l.addEventListener("click",w);const u=document.createElement("div");if(t instanceof Node)u.appendChild(t);else{console.error("showPopup: content must be a DOM Node for security. HTML strings are not supported.");const e=document.createElement("p");e.textContent="Error: Invalid content provided",e.style.color="red",u.appendChild(e)}d.appendChild(i),d.appendChild(l),s.appendChild(d),s.appendChild(u),r.appendChild(s);const p=document.createElement("div");return p.id="fb-plugin-overlay",p.style.cssText="\n    position: fixed;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0,0,0,0.5);\n    z-index: 9999;\n  ",p.addEventListener("click",w),document.body.appendChild(p),document.body.appendChild(r),r}function w(){const e=document.getElementById("fb-plugin-popup"),t=document.getElementById("fb-plugin-overlay");e&&e.remove(),t&&t.remove()}function y(e,t){const n=document.getElementById(t);n?e instanceof Node?n.appendChild(e):console.error("appendTab: content must be a DOM Node for security. HTML strings are not supported."):console.warn(`Tab element with ID "${t}" not found`)}function f(e,t,n){y(e,t),n&&"function"==typeof n&&n()}function E(e,t){const n=document.getElementById(t);n?(n.textContent="",e instanceof Node?n.appendChild(e):console.error("setTab: content must be a DOM Node for security. HTML strings are not supported.")):console.warn(`Tab element with ID "${t}" not found`)}function x(e,t,n={}){const{type:o="text",placeholder:c="",required:a=!1,value:r=""}=n,s=document.createElement("div");s.style.marginBottom="15px";const d=document.createElement("label");if(d.setAttribute("for",t),d.style.cssText="display: block; margin-bottom: 5px; font-weight: 500;",d.textContent=e,a){const e=document.createElement("span");e.style.color="red",e.textContent=" *",d.appendChild(e)}const i=document.createElement("input");return i.type=o,i.id=t,i.placeholder=c,i.value=r,a&&(i.required=!0),i.style.cssText="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box;",s.append(d,i),s}async function h(e,n,o,c,a,r,s,d){try{const i={input:{credit_card_id:e,payment_type:"MOR_ADS_INVOICE",new_credit_card:{credit_card_number:o,platform_trust_token:null,csc:r,expiry_month:parseInt(a),expiry_year:parseInt(c),billing_address:{country_code:s}},actor_id:n,client_mutation_id:Date.now().toString()}};return{success:!0,message:"Credit card added successfully",data:await l(t.GRAPHQL_DOC_IDS.ADD_CREDIT_CARD,i,"useFBAAddCreditCardMutation",d,{paymentAccountID:e})}}catch(e){return console.error("Error adding credit card:",e),{success:!1,message:e.message,error:e}}}function b(){const e=document.createElement("div");e.id="add-cc-form",e.appendChild(x("Card Number:","cc-number",{placeholder:"1234 5678 9012 3456"}));const t=document.createElement("div");t.style.cssText="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 15px;";const n=x("Month:","cc-month",{placeholder:"MM"});n.style.marginBottom="0";const o=x("Year:","cc-year",{placeholder:"YYYY"});o.style.marginBottom="0";const c=x("CVC:","cc-cvc",{placeholder:"123"});c.style.marginBottom="0",t.append(n,o,c),e.appendChild(t),e.appendChild(x("Country Code:","cc-country",{placeholder:"US"}));const a=document.createElement("div");a.style.textAlign="right";const r=document.createElement("button");r.setAttribute("data-action","cancel"),r.textContent="Cancel",r.style.cssText="padding: 10px 20px; margin-right: 10px; border: 1px solid #ddd; background: white; border-radius: 4px; cursor: pointer;",r.addEventListener("click",w);const s=document.createElement("button");s.setAttribute("data-action","submit"),s.textContent="Add Card",s.style.cssText="padding: 10px 20px; background: #1877f2; color: white; border: none; border-radius: 4px; cursor: pointer;",s.addEventListener("click",C),a.append(r,s),e.appendChild(a),g("Add Credit Card",e)}async function C(){const e=document.getElementById("cc-number")?.value,t=document.getElementById("cc-month")?.value,n=document.getElementById("cc-year")?.value,o=document.getElementById("cc-cvc")?.value,c=document.getElementById("cc-country")?.value;if(!(e&&t&&n&&o&&c))return void _("Please fill in all fields");const a=e.replace(/\s/g,"");if(!/^\d{13,19}$/.test(a))return void _("Invalid card number. Must be 13-19 digits.");if(!/^\d{2}$/.test(t)||parseInt(t)<1||parseInt(t)>12)return void _("Invalid month. Must be 01-12.");const r=(new Date).getFullYear();if(!/^\d{4}$/.test(n)||parseInt(n)<r)return void _("Invalid year. Must be current year or later.");if(!/^\d{3,4}$/.test(o))return void _("Invalid CVC. Must be 3 or 4 digits.");const s=window.PluginState?.accountId||window.selectedacc,d=window.PluginState?.socialId||window.socid,i=window.PluginState?.accessToken||window.privateToken;if(s&&d&&i)try{w();const e=await h(s,d,a,n,t,o,c.toUpperCase(),i);e.success?(alert("Credit card added successfully!"),window.mainreload&&window.mainreload()):alert(`Error adding credit card: ${e.message}`)}catch(e){console.error("Error processing credit card form:",e),alert(`Error: ${e.message}`)}else _("Account information not available. Please reload the page.")}function _(e){let t=document.getElementById("cc-form-error");if(!t){t=document.createElement("div"),t.id="cc-form-error",t.style.cssText="color: red; margin-bottom: 10px; padding: 10px; background: #fee; border-radius: 4px;";const n=document.getElementById("add-cc-form");if(!n)return void alert(e);n.insertBefore(t,n.firstChild)}t.textContent=e,t.style.display="block"}async function A(e,n){try{const o={input:{page_id:e,appeal_reason:null,client_mutation_id:"1"}};return{success:!0,message:"Page appeal submitted successfully",data:await l(t.GRAPHQL_DOC_IDS.PAGE_APPEAL,o,"useAdAccountALRAppealMutation",n)}}catch(e){return console.error("Error appealing fanpage:",e),{success:!1,message:e.message,error:e}}}async function T(e,n){try{const o={input:{page_id:e,client_mutation_id:"1"}};return{success:!0,message:"Page deleted successfully",data:await l(t.GRAPHQL_DOC_IDS.PAGE_DELETE,o,"usePagesCometDeletePageMutation",n)}}catch(e){return console.error("Error deleting fanpage:",e),{success:!1,message:e.message,error:e}}}async function v(e,n){try{const o={input:{page_id:e,is_hidden:!1,client_mutation_id:"1"}};return{success:!0,message:"Page unhidden successfully",data:await l(t.GRAPHQL_DOC_IDS.PAGE_UNHIDE,o,"usePagesCometEditPageVisibilityMutation",n)}}catch(e){return console.error("Error unhiding fanpage:",e),{success:!1,message:e.message,error:e}}}function k(){const e=document.createElement("div");e.id="add-bm-form";const t=document.createElement("div");t.style.marginBottom="15px";const n=document.createElement("label");n.style.cssText="display: block; margin-bottom: 5px;",n.textContent="Business Manager Name:";const o=document.createElement("input");o.type="text",o.id="bm-name",o.placeholder="Enter Business Manager name",o.style.cssText="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;",t.append(n,o);const c=document.createElement("div");c.style.textAlign="right";const a=document.createElement("button");a.setAttribute("data-action","cancel"),a.textContent="Cancel",a.style.cssText="padding: 10px 20px; margin-right: 10px; border: 1px solid #ddd; background: white; border-radius: 4px; cursor: pointer;",a.addEventListener("click",w);const r=document.createElement("button");r.setAttribute("data-action","submit"),r.textContent="Create BM",r.style.cssText="padding: 10px 20px; background: #1877f2; color: white; border: none; border-radius: 4px; cursor: pointer;",r.addEventListener("click",P),c.append(a,r),e.append(t,c),g("Add Business Manager",e)}async function P(){const e=document.getElementById("bm-name");if(!e)return void console.error("BM name input element not found");const n=e.value.trim();if(!n)return void alert("Please enter a Business Manager name");const o=window.PluginState?.accessToken||window.privateToken;if(o)try{const e=await async function(e,n){try{const o={input:{name:e,vertical:"OTHER",timezone_id:"1",client_mutation_id:"1"}};return{success:!0,message:"Business Manager created successfully",data:await l(t.GRAPHQL_DOC_IDS.BM_CREATE,o,"BusinessManagerCreateMutation",n)}}catch(e){return console.error("Error creating Business Manager:",e),{success:!1,message:e.message,error:e}}}(n,o);e.success?(alert(`Business Manager "${n}" created successfully!`),w(),window.mainreload&&window.mainreload()):alert(`Error: ${e.message}`)}catch(e){console.error("Error processing BM creation:",e),alert(`Error: ${e.message}`)}else alert("Access token not available")}function I(){const e=Object.keys(t.CURRENCY_SYMBOLS),n=document.createElement("div");n.id="edit-currency-form";const o=document.createElement("div");o.style.marginBottom="15px";const c=document.createElement("label");c.style.cssText="display: block; margin-bottom: 5px;",c.textContent="Select Currency:";const a=document.createElement("select");a.id="currency-select",a.style.cssText="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;",e.forEach(e=>{const n=t.CURRENCY_SYMBOLS[e],o=document.createElement("option");o.value=e,o.textContent=`${e} (${n})`,a.appendChild(o)}),o.append(c,a);const r=document.createElement("div");r.style.textAlign="right";const s=document.createElement("button");s.setAttribute("data-action","cancel"),s.textContent="Cancel",s.style.cssText="padding: 10px 20px; margin-right: 10px; border: 1px solid #ddd; background: white; border-radius: 4px; cursor: pointer;",s.addEventListener("click",w);const d=document.createElement("button");d.setAttribute("data-action","submit"),d.textContent="Update Currency",d.style.cssText="padding: 10px 20px; background: #1877f2; color: white; border: none; border-radius: 4px; cursor: pointer;",d.addEventListener("click",S),r.append(s,d),n.append(o,r),g("Edit Currency",n)}function D(){const e=document.createElement("div");e.id="edit-timezone-form";const t=document.createElement("div");t.style.marginBottom="15px";const n=document.createElement("label");n.style.cssText="display: block; margin-bottom: 5px;",n.textContent="Select Timezone:";const o=document.createElement("select");o.id="timezone-select",o.style.cssText="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;",["America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Europe/London","Europe/Paris","Asia/Tokyo","Asia/Shanghai","Asia/Dubai","Australia/Sydney"].forEach(e=>{const t=document.createElement("option");t.value=e,t.textContent=e.replace(/_/g," "),o.appendChild(t)}),t.append(n,o);const c=document.createElement("div");c.style.textAlign="right";const a=document.createElement("button");a.setAttribute("data-action","cancel"),a.textContent="Cancel",a.style.cssText="padding: 10px 20px; margin-right: 10px; border: 1px solid #ddd; background: white; border-radius: 4px; cursor: pointer;",a.addEventListener("click",w);const r=document.createElement("button");r.setAttribute("data-action","submit"),r.textContent="Update Timezone",r.style.cssText="padding: 10px 20px; background: #1877f2; color: white; border: none; border-radius: 4px; cursor: pointer;",r.addEventListener("click",B),c.append(a,r),e.append(t,c),g("Edit Timezone",e)}async function S(){const e=document.getElementById("currency-select");if(!e)return void console.error("Currency select element not found");const t=e.value,n=window.PluginState?.accountId||window.selectedacc,o=window.PluginState?.accessToken||window.privateToken;if(n&&o)try{const e=await async function(e,t,n){try{const o=await i(`act_${e}`,{method:"POST",params:{currency:t.toUpperCase()},accessToken:n});return{success:!0,message:`Currency updated to ${t} successfully`,data:o}}catch(e){return console.error("Error updating currency:",e),{success:!1,message:e.message,error:e}}}(n,t,o);e.success?(alert(`Currency updated to ${t} successfully!`),w(),window.mainreload&&window.mainreload()):alert(`Error: ${e.message}`)}catch(e){console.error("Error processing currency update:",e),alert(`Error: ${e.message}`)}else alert("Account information not available")}async function B(){const e=document.getElementById("timezone-select");if(!e)return void console.error("Timezone select element not found");const t=e.value,n=window.PluginState?.accountId||window.selectedacc,o=window.PluginState?.accessToken||window.privateToken;if(n&&o)try{const e=await async function(e,t,n){try{return{success:!0,message:"Timezone updated successfully",data:await i(`act_${e}`,{method:"POST",params:{timezone_id:t},accessToken:n})}}catch(e){return console.error("Error updating timezone:",e),{success:!1,message:e.message,error:e}}}(n,t,o);e.success?(alert("Timezone updated successfully!"),w(),window.mainreload&&window.mainreload()):alert(`Error: ${e.message}`)}catch(e){console.error("Error processing timezone update:",e),alert(`Error: ${e.message}`)}else alert("Account information not available")}function L(){!function(){const e=document.getElementById("fb-ads-plugin-popup");e&&e.remove()}();const e=document.createElement("div");e.id="fb-ads-plugin-popup",e.style.cssText="\n    position: fixed;\n    top: 60px;\n    right: 20px;\n    width: 400px;\n    max-height: calc(100vh - 100px);\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 4px 20px rgba(0,0,0,0.2);\n    z-index: 9999;\n    overflow: auto;\n    display: none;\n  ";const t=document.createElement("div");t.style.cssText="padding: 15px; border-bottom: 1px solid #ddd;";const n=document.createElement("div");n.style.cssText="display: flex; justify-content: space-between; align-items: center;";const o=document.createElement("h3");o.style.cssText="margin: 0; font-size: 16px;",o.textContent="FB Ads Manager Plugin";const c=document.createElement("button");c.setAttribute("data-action","close"),c.style.cssText="background: none; border: none; font-size: 24px; cursor: pointer; padding: 0; width: 30px; height: 30px;",c.textContent="×",c.addEventListener("click",N),n.appendChild(o),n.appendChild(c),t.appendChild(n);const a=document.createElement("div");a.id="plugin-content",a.style.cssText="padding: 15px;";["dblock1","dblock1cc","dblock2","dblock3","dblock4"].forEach(e=>{const t=document.createElement("div");t.id=e,t.style.marginBottom="15px",a.appendChild(t)}),e.appendChild(t),e.appendChild(a),document.body.appendChild(e)}function M(){const e=document.getElementById("fb-ads-plugin-popup");e?e.style.display="block":(L(),M())}function O(){const e=document.getElementById("fb-ads-plugin-popup");e&&(e.style.display="none")}function R(){const e=document.getElementById("fb-ads-plugin-popup");if(!e)return L(),void M();"none"===e.style.display||""===e.style.display?M():O()}function N(){O()}function $(){O()}function U(){M()}async function z(e,t="GET"){const n=await fetch(e,{method:t});if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);return await n.json()}const H={initialized:!1,accessToken:null,accountId:null,isPageAuth:!1};function G(){if(console.log(`Facebook Ads Manager Plugin v${t.VERSION}`),!t.VALID_PATHS.some(e=>window.location.pathname===e))return console.log("Not on ads manager page, checking if on Facebook..."),void(window.location.host.indexOf("facebook.com")>-1?window.location.href="/adsmanager/manage/campaigns":confirm("Are you sure you want to open Facebook Ads Manager?")&&(window.location.href="https://www.facebook.com/adsmanager/manage/campaigns"));const e=s();H.accessToken=e.token,H.accountId=e.accountId,H.isPageAuth=e.isPageAuth,H.accessToken?(console.log("Access token obtained successfully"),L(),document.addEventListener("keydown",function(e){"Escape"===e.key&&N(),(e.ctrlKey||e.metaKey)&&e.shiftKey&&"f"===e.key&&(e.preventDefault(),R())}),async function(){try{if(r(),H.accountId){const e=await async function(e,t){try{const n=["id","name","account_status","disable_reason","currency","timezone_name","amount_spent","balance","funding_source_details"];return{success:!0,data:await i(`act_${e}`,{params:{fields:n.join(",")},accessToken:t})}}catch(e){return console.error("Error getting ad account details:",e),{success:!1,message:e.message,error:e}}}(H.accountId,H.accessToken);e.success&&function(e){const n=(c=e.currency,t.CURRENCY_SYMBOLS[c]||c),o=document.createElement("div");var c;o.style.cssText="padding: 10px; background: #f5f5f5; border-radius: 4px; margin-bottom: 10px;";const a=document.createElement("h4");a.style.cssText="margin: 0 0 10px 0;",a.textContent="Account Info",o.appendChild(a);const r=(e,t)=>{const n=document.createElement("p");n.style.cssText="margin: 5px 0;";const o=document.createElement("strong");o.textContent=e+": ";const c=document.createTextNode(t||"N/A");return n.append(o,c),n};if(o.append(r("Name",e.name),r("ID",e.id),r("Status",e.account_status),r("Currency",`${n} ${e.currency||"N/A"}`),r("Timezone",e.timezone_name)),E(o,"dblock1"),e.funding_source_details){const t=document.createElement("div");t.style.cssText="padding: 10px; background: #f5f5f5; border-radius: 4px;";const n=document.createElement("h4");n.style.cssText="margin: 0 0 10px 0;",n.textContent="Payment Method",t.appendChild(n);const o=document.createElement("p");o.style.cssText="margin: 5px 0;";const c=document.createElement("strong");c.textContent="Card: ";const a=document.createTextNode(e.funding_source_details.display_string||"No card on file"),r=document.createElement("a");r.href="#",r.setAttribute("data-action","add-credit-card"),r.textContent="add",r.addEventListener("click",e=>{e.preventDefault(),b()}),o.append(c,a," [",r,"]"),t.appendChild(o),E(t,"dblock1cc")}}(e.data)}M()}catch(e){console.error("Error loading initial data:",e)}}(),H.initialized=!0,console.log("Plugin initialized successfully")):console.error("Failed to get access token")}function Y(){window.PluginState=H,window.CONFIG=t,window.getAccessToken=s,window.checkauth=r,window.mainclose=N,window.mainhide=$,window.mainunhide=U,window.togglePluginPopup=R,window.showPluginPopup=M,window.hidePluginPopup=O,window.appendtab=y,window.appendtabplus=f,window.getCookie=n,window.getURLParameter=o,window.copytocb=c,window.shadowtext=a,window.getJSON=z,window.showAddCreditCardForm=b,window.processCreditCardForm=C,window.addCreditCardToAccount=h,window.appealadsacc=u,window.deladacc=p,window.remadacc=m,window.appealfp=A,window.delfp=T,window.unhidefp=v,window.showAddBM=k,window.ShowEditcurr=I,window.ShowEdittzone=D,window.processEditCurrency=S,window.processEditTimezone=B,window.processAddBusinessManager=P}return console.log("Facebook Ads Manager Plugin loading..."),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>{Y(),G()}):(Y(),G()),e.PluginState=H,e.exposeGlobalAPI=Y,e.initialize=G,e}({});
//# sourceMappingURL=fbacc-plugin.min.js.map
